# answers
Interview questions and answers

# 计算机网络
<!-- GFM-TOC -->
* 传输层：TCP和UDP
    * [TCP/UDP区别？](#TCP/UDP区别？)
    * [两次握手为什么不可以？](#两次握手为什么不可以？)
    * [描述三次握手过程？](#描述三次握手过程？)
    * [为什么要四次挥手？](#为什么要四次挥手？)
* 应用层：HTTP和HTTPS
    * [HTTP可以使用UDP吗？](#HTTP可以使用UDP吗？)
    * [对称加密、非对称加密区别？](#对称加密、非对称加密区别？)
    * [HTTP与HTTPS区别？](#HTTP与HTTPS区别？)
    * [GET与POST的区别？](#GET与POST的区别？)
<!-- GFM-TOC -->

## 传输层：TCP和UDP
### TCP/UDP区别？
* TCP是面向连接的，UDP是无连接的。
* TCP是可靠的，UDP不可靠。
* TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多。
* TCP是面向字节流的，UDP是面向报文的。
* TCP有拥塞控制机制，UDP没有。
* TCP首部开销（20字节）比UDP首部开销（8字节）要大。

### 两次握手为什么不可以？
采用三次握手是为了防止失效的连接请求报文段突然又传送到主机B，因而产生错误。

### 描述三次握手过程？
* 你招手
* 妹子点头微笑
* 妹子招手
* 你点头微笑
妹子先是点头微笑(回复对方)，然后再次招手(寻求确认)，将其合成一个动作，招手的同时点头微笑(syn + ack)。于是这四个动作就简化成了三个动作。

### 为什么要四次挥手？
TCP关闭链接四次握手原因在于tpc链接是全双工通道，需要双向关闭。client向server发送关闭请求，表示client不再发送数据，server响应。此时server端仍然可以向client发送数据，待server端发送数据结束后，就向client发送关闭请求，然后client确认。

## 应用层：HTTP和HTTPS
### HTTP可以使用UDP吗？
HTTP不可以使用UDP，HTTP需要基于可靠的传输协议，而UDP不可靠

### 对称加密、非对称加密区别？
* 对称加密：加密和解密采用相同的密钥。如：DES、RC2、RC4。
* 非对称加密：需要两个密钥：公钥和私钥。如果用公钥加密，需要用私钥才能解密。如：RSA。
> 区别：对称加密速度更快，通常用于大量数据的加密；非对称加密安全性更高。

### HTTP与HTTPS区别？
* https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
* http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
* http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
* http的连接很简单，是无状态的；https协议是由ssl+http协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

### GET与POST的区别？
* GET是幂等的，即读取同一个资源，总是得到相同的数据，POST不是幂等的；
* GET一般用于从服务器获取资源，而POST有可能改变服务器上的资源；
* 安全性：GET请求可被缓存、收藏、保留到历史记录，且其请求数据明文出现在URL中。POST的参数不会被保存，安全性相对较高；
* GET只允许ASCII字符，POST对数据类型没有要求，也允许二进制数据；
* GET的长度有限制（操作系统或者浏览器），而POST数据大小无限制；

# 数据库
## redis
### redis哨兵主要功能？
* 集群监控：负责监控Redis master和slave进程是否正常工作；
* 消息通知：如果某个Redis实例有故障，那么哨兵负责发送消息作为报警通知给管理员；
* 故障转移：如果master node挂掉了，会自动转移到slave node上；
* 配置中心：如果故障转移发生了，通知client客户端新的master地址。

### redis主从复制、哨兵和集群这三个有什么区别？
主从复制是为了数据备份，哨兵是为了高可用，redis主服务器挂了哨兵可以切换，集群则是因为单实例能力有限，搞多个分散压力。

# 中间件
## rabbitmq
### rabbitMQ的工作原理？
##### 发送消息
* 生产者和Broker建立TCP连接。
* 生产者和Broker建立通道。
* 生产者通过通道消息发送给Broker，由Exchange将消息进行转发。
* Exchange将消息转发到指定的Queue（队列）

##### 接收消息
* 消费者和Broker建立TCP连接
* 消费者和Broker建立通道
* 消费者监听指定的Queue（队列）
* 当有消息到达Queue时Broker默认将消息推送给消费者。
* 消费者接收到消息。